/* Haplo Platform                                     http://haplo.org
 * (c) Haplo Services Ltd 2006 - 2016    http://www.haplo-services.com
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.         */


/* Make application specific CSS additions at the end of this file */

/* BEGIN-STANDARD */
/* ----- DO NOT MODIFY CONTENTS OF THE STANDARD BLOCK, update with lib/tasks/update_oforms.sh ----- */
.oform {
    position: relative;
}

.oform .oforms-row {
    margin-bottom: 9px;
}

.oform label,
.oform .oforms-cluster-label {
    display: block;
    margin-bottom: 5px;
}

.oform .oforms-explanation p {
    margin: 0 0 4px 0;
    color: #666;
}

.oform input[type=text], .oform textarea {
    width: 400px;
}

.oform input[type="text"], 
.oform input[type="password"], 
.oform select, 
.oform textarea {
    margin-bottom: 9px;
}

.oform table th, .oform table td {
    vertical-align: top;
}

.oform table th {
    text-align: left;
}

.oform table input[type=text] {
    width: 128px;
}

.oform table.table-bordered {
    width: 100%;
    /*
    border: 1px solid #999;
    border-spacing: 0;
    border-collapse: collapse;
    */
    margin-bottom: 18px;
}

/*
.oform table.table-bordered th,
.oform table.table-bordered td {
    border: 1px solid #999;
    padding: 6px;
}
*/

.oform input[type=text].oforms-number {
    width: 80px;
}

.oforms-unit {
    display: inline-block;
}

.oforms-delete-btn,
.oforms-add-btn {
    font-size: 11px;
    margin-bottom: 9px;
}

.oform-add-btn-disabled {
    text-decoration: none;
    color: #999;    
}

.oform table .oforms-repeat .oforms-delete-btn,
.oform table .oforms-repeat .oforms-add-btn {
    display: block;
}

.oform table .oforms-repeat .oforms-delete-btn {
    float: left;
    margin-right: 5px;
}

.oform table .oforms-repetition {
    clear: both;
}

/* add a box around repetitions in a repeating section (not in a table) */
.oform div.oforms-repetition.oforms-has-multiple {
    position: relative;
    border: 1px solid #ccc;
    border-radius: 4px;
    padding: 6px 8px 0 8px;
    margin: 0 0 16px 0;
}
/* ... and move the delete button to the right */
.oform div.oforms-repetition.oforms-has-multiple a.oforms-delete-btn {
    position: absolute;
    right: 8px;
    bottom: 4px;
    margin: 0;
}

/* improve visual clarity in repeating sections within table repeating sections */
.oform table .oforms-append {
    padding: 4px;
    border: 1px solid #888;
}

.oform table .oforms-append p {
    margin: 4px 0;
}

.oforms-grid-row-label {
    text-align: right;
    font-weight: normal;
    font-style: italic;
}

.oform .oforms-checkbox label input[type="checkbox"] {
    margin-right: 6px;
}

.oform .oforms-radio-vertical label {
    display: block;
    padding-left: 18px;
}

.oform .oforms-radio-vertical label.control-label {
    padding-left: 0;
}

.oform .oforms-radio-vertical label input[type="radio"],
.oform .oforms-radio-vertical label input[type="checkbox"] {
    float: left;
    padding: 0;
    margin: 3px 0;
    margin-left: -18px;
}

.oform .oforms-radio-horizontal div,
.oform .oforms-boolean label {
    padding-left: 0;
    margin-right: 8px;
    display: inline-block;
}

.oform .oforms-radio-horizontal label input[type="radio"],
.oform .oforms-radio-horizontal label input[type="checkbox"],
.oform .oforms-boolean label input[type="radio"] {
    float: left;
    margin-right: 3px;
    margin-left: 0;
}

.oforms-radio-grouping td {
    padding-right: 16px;
}

#oforms-lookup-picker {
    position: absolute;
    border: 1px solid #888;
    background: #fff;
}

#oforms-lookup-picker span {
    display: block;
    cursor: pointer;
    padding: 2px 8px;
}

#oforms-lookup-picker .selected {
    background: #ddd;
}

.oform input[type="text"].oforms-lookup-input {
    background: #ffd; /* visual change to show it's an auto complete field - maybe an icon later? */
}

.oform input[type="text"].oforms-lookup-valid {
    background: #efe;
}

.oforms-lookup-message {
    font-style: italic;
    color: #888;
}

.oforms-measurement input + select, .oforms-measurement select + input {
    margin-left: 4px; /* insert space between elements, regardless of which way round they are */
}

.oform .oforms-display-row {
    margin-bottom: 18px;
}

#oforms-guidance-note {
    position: fixed;
    width: 100%;
    top: 0;
    left: 0;
    color: #c09853;
    background: #fcf8e3;
    border-bottom: 2px solid #fbeed5;
    -webkit-box-shadow: 0 0 0 1px #c09853;
    -moz-box-shadow: 0 0 0 1px #c09853;
    box-shadow: 0 0 0 1px #c09853;
    z-index: 900001; /* make sure it's above all other UI elements */
}

#oforms-guidance-note div {
    font-weight: bold;
    font-size: 14px;
    padding: 18px;
}

.oform h2 {
    font-weight: normal;
    color: #999;
    font-size: 18px;
    line-height: 27px;
    margin: 18px 0 9px 0;
}

.oform .control-label {
    font-weight: bold;
}

.oform .table .oforms-append {
    padding: 0;
    border: 0;
}

.oform .table .control-group {
    margin-bottom: 0px;
}

.oform .oforms-table-add-btn {
    margin-top: -9px;
    margin-bottom: 9px;
}

.oform .help-block {
    display: block;
    margin-bottom: 9px;
}

.oforms-required {
    color: #b94a48;
}

.oform .control-group.error > label,
.oform .control-group.error .help-block,
.oform .control-group.error .help-inline,
.oform .oforms-error label,
.oform .oforms-error-message {
    color: #b94a48;
}

.oforms-repeat + .oforms-error-message {
    margin-top: 18px;
}

.oforms-inline-guidance-view {
    border-radius: 20px;
    width: 20px;
    height: 20px;
    font-family: Georgia, serif;
    font-weight: bold;
    color: #eee;
    font-size: 15px;
    background: #c2c2c2;
    text-align: center;
    text-decoration: none;
    margin-left: 10px;
    position: absolute;
    right: -22px;
}

.oforms-inline-guidance {
    border: 1px solid #ddd;
    border-radius: 3px;
    background: #eee;
    padding: 4px 8px;
    width: 90%;
    margin: 4px 0 24px 0;
}
.oforms-inline-guidance p {
    margin: 6px 6px;
}

/* Hide the X clear button on input fields in Internet Explorer, because it's unhelpful */
.oform input::-ms-clear {
    display:none;
}

/* checklist boolean elements */
.oform-checklist-true, .oform-checklist-false {
    display: inline-block;
    width: 12px;
}
.oform-checklist-true {
    font-weight: bold;
    color: #0d0;
}
.oform-checklist-false {
    color: #d00;
}

/* TEXTAREA WITH COUNT */

.oforms-paragraph-with-count {
    display: inline-block;
}

.oforms-paragraph-counter {
    font-size: 0.8em;
    text-align: right;
    color: #666;
}

.oforms-paragraph-counter span {
    display: inline-block;
    text-align: left;
    width: 3em; /* fix width so it doesn't move around as character counts change */
}

/* DATES */

.oform span.oforms-date input { /* enough CSS specificity to select elements with a table */
    width: 84px;
}

.oforms-invalid-date {
    background-color: #fdd;
}

/* FILES */

.oforms-file {
    position: relative;
}
.oforms-file .oforms-file-prompt a {
    display: inline-block;
    width: 8em;
    margin-right: 16px;
}
.oforms-file input[type=file] {
    position: absolute;
    left: 0; top: 0;
    display: block;
    width: 8em;
    opacity: 0; /* so UI is the 'link' underneath, not the standard browser element */
}
.oforms-file .oforms-file-remove {
    display: inline-block;
    margin-left: 10px;
}
.oforms-file-error-text {
    color: red;
}

/* CHANGES */

.oforms-changes-add,
.oforms-changes-remove {
    position: relative;
}
.oforms-changes-add:not(:empty):before,
.oforms-changes-remove:not(:empty):before {
    position: absolute;
    left: -24px;
    top: 2px;
    font-weight: bold;
    font-size: 16px;
    line-height: 16px;
    display: block;
    width: 18px;
    height: 18px;
    border-radius: 9px;
    text-align: center;
}
.oforms-changes-add:not(:empty) {
    background: #dfd !important;
    box-shadow: -4px 0 1px #dfd;
}
.oforms-changes-add:not(:empty):before {
    content: "+";
    color: #050;
    background: #dfd;
}
.oforms-changes-remove:not(:empty) {
    background: #fdd !important;
    box-shadow: -4px 0 1px #fdd;
}
.oforms-changes-remove:not(:empty):before {
    content: "\2212";
    color: #500;
    background: #fdd;
}
#oforms-calendar-popup {
    width: 196px;
    height: 176px;
    background: #eee;
    border: 2px solid #aaa;
    border-radius: 4px;
    box-shadow: -3px 3px 4px rgba(0,0,0,0.15);
    z-index: 9000;
}
#oforms-calendar-popup:after, #oforms-calendar-popup:before {
    top: 100%;
    border: solid transparent;
    content: " ";
    height: 0;
    width: 0;
    position: absolute;
    pointer-events: none;
}
#oforms-calendar-popup:after {
    border-color: rgba(238, 238, 238, 0);
    border-top-color: #eee;
    border-width: 10px;
    left: 20%;
    margin-left: -10px;
}
#oforms-calendar-popup:before {
    border-color: rgba(170, 170, 170, 0);
    border-top-color: #aaa;
    border-width: 13px;
    left: 20%;
    margin-left: -13px;
}

#oforms-calendar-popup a, #oforms-calendar-popup span {
    display: block;
    width: 26px;
    height: 22px;
    float: left;
    text-align: center;
    font-size: 12px;
}

#oforms-calendar-popup span.oforms-calendar-popup-monthyear {
    width: 140px;
    font-weight: bold;
}

#oforms-calendar-popup span.oforms-calendar-popup-selected {
    background: #555;
    color: #fff;
}

#oforms-calendar-popup span.oforms-calendar-popup-invalid {
    color: #999;
}

#oforms-calendar-popup :nth-child(7n+4), #oforms-calendar-popup :nth-child(7n+10) {
    background: #fff; /* saturdays and sundays */
}

#oforms-calendar-popup a, #oforms-calendar-popup a:visited, #oforms-calendar-popup a:hover {
    color: #333;
    text-decoration: none;
}

#oforms-calendar-popup a:hover {
    background: #e00;
    color: #eee;
}

/* END-STANDARD */

/* ----- Application specific CSS goes after this line ----- */

.oform {
    margin-top: 24px;
}

.oform .oforms-add-btn,
.oform .oforms-delete-btn {
    font-weight: bold;
    line-height: 15px;
    margin-bottom: 9px;
    color: #555;
    border: 1px solid #aaa;
    background: #eee;
    padding: 1px 8px;
    margin-right: 4px;
    box-shadow: inset 0 1px 1px #fff;
    border-radius: 3px;
}

.oform .oforms-add-btn {
    display: inline-block;
    margin-bottom: 24px;    /* add a bit of spacing before the next section */
}

/* adjust position of remove button when not in a repeating section with multiple elements */
.oform div.oforms-repetition:not(.oforms-has-multiple) div.oforms-row + .oforms-delete-btn {
    position: relative;
    top: -12px;
}

#z__ws_content .oform table {
    width: auto;
}

#z__ws_content .oform table th {
    padding-right: 8px;
    height: auto;
}

#z__ws_content .oform table th.oforms-grid-row-label {
    background: none;
    border-bottom: 1px solid #eee;    
    padding: 4px 8px;
}

#z__ws_content .oform table td {
    padding: 4px 8px;
}

#z__ws_content table.oforms-display td {
    padding: 4px 8px;
    border-bottom: none;
}

#z__ws_content .oform td .control-group input {
    margin: 0px;
}

#z__ws_content table.oforms-display th {
    background: transparent;
    text-align: right;
    width: 128px;
}

#z__ws_content table tr.oforms-display-table-headings th {
    text-align: center;
    width: auto;
}

.oform .oforms-explanation p {
    font-size: 12px;
    line-height: 16px;
}

.oform h2 {
    border-bottom: 1px solid #ddd;
}

/* file remove links */
.oform a.oforms-file-remove {
    font-size: 0;
    color: transparent;
}
.oforms-file-remove:before {
    $ICON_FONT_DIRECTIVES
    content: "\e00f";
    color: #666;
    font-size: 12px;
}
.oforms-file-remove:hover:before {
    color: #f00;
    text-decoration: none;
}

/* file uploading */
.oforms-repeat-file-ui {
    height: 50px;
}
.z__oforms_file_uploading {
    opacity: 0.5;
}
.z__oforms_file_uploading:after {
    content: ' (uploading)';
}

/* files - rendered by js_file_support.rb */
.z__oforms_file {
    position: relative;
    height: 66px;
    width: 98%;
}
.z__oforms_file .z__oforms_file_thumbnail {
    position: absolute;
    left: 0;
    width: 66px;
}
.z__oforms_file img {
    position: absolute;
    right: 0;
    border: 1px solid #bbb;
    box-shadow: 1px 1px 4px rgba(0,0,0,0.3);
}
.z__oforms_file .z__oforms_file_filename {
    position: absolute;
    left: 84px;
}
.z__oforms_file .z__file_preview_link {
    position: absolute;
    left: 84px;
    top: 22px;
    font-size: 12px;
    line-height: 16px;
    color: #bbb;
    padding: 2px 8px 2px 6px;
    text-decoration: none;
}
.z__oforms_file .z__file_preview_link:hover {
    color: #000;
    background-color: #ddd;
}

/* apply application colour to guidance note view button */
.oforms-inline-guidance-view {
    background: COLOUR[mix(:highlight,65,#000,35)];
}
.oforms-inline-guidance-view:hover {
    background: COLOUR[:highlight];
    text-decoration: none;
}

